<!DOCTYPE html>
<html ng-app="devicesApp">
    <head>
        <title>Spartan Dashboard UI</title>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="css/spartan.css" />
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.4/js/bootstrap.min.js"></script>
    </head>
    <body class="application">
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data - toggle="collapse" data - target=".navbar-collapse">
                    <span class="sr-only"> Toggle navigation </span> <span class="icon-bar"> </span> <span class="icon-bar"> </span> <span class="icon-bar"> </span> </button> <a class="navbar-brand" href="#"> X Utility </a> </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-left">
                    <li> <a href="index.html"> Home </a></li>
                    <li> <a href="events.html"> Fault events </a></li>
                    <li> <a href="devices.html"> Device status </a></li>
                </ul>
            </div>

        </div>
    </div>
         <div class="container-fluid">
            <div class="row">
                <div class="col-sm-2"></div>
                <div class="col-sm-8">
                    <div class="chart-wrapper" ng-controller="DevicesController">
                        <div class="chart-title">
                        Latest sensor readings
                        
                            <small class="pull-right">
                                <label>Show:
                                    <select ng-model='filterLine'>
                                      <option selected value=''>All devices</option>
                                      <option  ng-repeat="line in lineList" value="{{line.SerialNumber}}">{{line.FeederName}}</option>
                                    </select>
                                </label>
                            </small>
                        </div>
                        <div my-loading-spinner="viewLoading">
                            <!-- actual view content goes here. -->
                            <div class="container-fluid chart-devicelist">
                                <div class="list-group">
                                    <a ng-href="{{'events.html?device='+deviceItem.deviceName}}" ng-repeat="deviceItem in deviceList | filter: filterLine" class="list-group-item ">
                                        <div>
                                            <h3 class="list-group-item-heading">Device name: {{deviceItem.deviceName}}
                      
                                                <small class="pull-right">Last updated: {{deviceItem.timestamp}}</small>
                                            </h3>
                                        </div>
                                        <h4> Feeder line: 
                                            <em>{{deviceItem.feederID}}</em>
                                        </h4>
                                        <h4> Power harvesting: 
                                            <mark>{{deviceItem.status}}</mark>
                                        </h4>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <h4>Environment Readings</h4>
                                            <p class="list-group-item-text">Temperature:
                                            
                                                <Strong>{{deviceItem.temperature}} F</Strong>
                                            </p>
                                            <p class="list-group-item-text">Water level:
                                            
                                                <Strong>{{deviceItem.water}} inches</Strong>
                                            </p>
                                            <p class="list-group-item-text">Humidity:
                                            
                                                <Strong>{{deviceItem.humidity}}%</Strong>
                                            </p>
                                            <p class="list-group-item-text">Methane:
                                            
                                                <Strong>{{deviceItem.methane}} ppm</Strong>
                                            </p>
                                            <p class="list-group-item-text">CO2:
                                            
                                                <Strong>{{deviceItem.CO2}} ppm</Strong>
                                            </p>
                                            <p class="list-group-item-text">H2S:
                                            
                                                <Strong>{{deviceItem.H2S}} ppm</Strong>
                                            </p>
                                        </div>
                                        <div class="col-sm-6">
                                            <h4>Current Readings</h4>
                                            <p class="list-group-item-text">RMS line A:                                           
                                                <Strong>{{deviceItem.RMS1}}</Strong>
                                            </p>
                                            <p class="list-group-item-text">RMS line B:                                           
                                                <Strong>{{deviceItem.RMS2}}</Strong>
                                            </p>
                                            <p class="list-group-item-text">RMS line C:                                           
                                                <Strong>{{deviceItem.RMS3}}</Strong>
                                            </p>
                                            <p class="list-group-item-text">Phrase CA:                                           
                                                <Strong>{{deviceItem.phrasereadingA}}</Strong>
                                            </p>
                                            <p class="list-group-item-text">Phrase BC:                                            
                                                <Strong>{{deviceItem.phrasereadingB}}</Strong>
                                            </p>
                                            <p class="list-group-item-text">Phrase AB:                                           
                                                <Strong>{{deviceItem.phrasereadingC}}</Strong>
                                            </p>
                                        </div>
                                    </div>
                                </a>
                                <div class="chart-notes">
                                    <!--  Last updated: {{currentTime}} -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2"></div>
                </div>
            </div>
        </div>
        <hr>
            <p class="small text-muted">Built by 
                <a href="https://3m.com">3M ESL</a>
            </p>
        </div>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/chance/0.5.6/chance.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.2/moment.min.js"></script>
        <script type="text/javascript" src="js/spartan.devices.js"></script>
    </body>
</html>